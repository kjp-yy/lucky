<!DOCTYPE html>
<html>

	<head>
		<meta charset="{CHARSET}">
		<title></title>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	</head>
	<style>
		#item {
			display: none;
		}
	</style>

	<body>
		<table class="table">
			<thead>
				<tr>
					<th>名称</th>
					<th>城市</th>
					<th>目的</th>
					<th>时间</th>
					<th>按钮</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td>一</td>
					<td>铜川</td>
					<td>铜川</td>
					<td>铜川</td>
					<td><button class="bb" type="">增加</button><button class="dd" type="">删除</button></td>

				</tr>
				<tr>
					<td>二</td>
					<td>铜川</td>
					<td>铜川</td>
					<td>铜川</td>
					<td><button class="bb" type="">增加</button><button class="dd" type="">删除</button></td>
				</tr>
				<tr>
					<td>二</td>
					<td>铜川</td>
					<td>铜川</td>
					<td>铜川</td>
					<td><button class="bb" type="">增加</button><button class="dd" type="">删除</button></td>
				</tr>
				<tr>
					<td>三</td>
					<td>铜川</td>
					<td>铜川</td>
					<td>铜川</td>
					<td><button class="bb" type="">增加</button><button class="dd" type="">删除</button></td>
				</tr>
				<tr>
					<td>四</td>
					<td>铜川</td>
					<td>铜川</td>
					<td>铜川</td>
					<td><button class="bb" type="">增加</button><button class="dd" type="">删除</button></td>
				</tr>
				<tr id="item">
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td><button class="bb" type="">增加</button><button class="dd" type="">删除</button></td>
				</tr>
			</tbody>
		</table>
	</body>
	<script>
		// var td = document.querySelectorAll('td');
		// for(var i = 0; i < td.length; i++) {
		// 	td[i].onclick = function() {
		// 		if(this.children.length == 0) {
		// 			var input = document.createElement('input');
		// 			input.type = 'type';
		// 			input.value = this.innerHTML;
		// 			this.innerHTML = '';
		// 			this.appendChild(input);
		// 			input.focus();
		// 			var TH = this;
		// 			input.onblur = function() {
		// 				TH.innerHTML = this.value;
		// 			}
		// 		}
		// 	}
		// }
		// var dd = document.querySelectorAll('.dd');
		// var tbody = document.querySelector('tbody');
		// for(var i = 0; i < dd.length; i++) {
		// 	dd[i].onclick = function() {
		// 		tbody.removeChild(this.parentNode.parentNode);
		// 	}
		// }
		// var bb = document.querySelectorAll('.bb');
		// var item = document.querySelector('#item');
		// for(var i = 0; i < bb.length; i++) {
		// 	bb[i].onclick = function() {
		// 		var tr = item.cloneNode(true);
		// 		tr.id = '';
		// 		tbody.insertBefore(tr,this.parentNode.parentNode);
		// 	}
		// }
	      var tbody= document.querySelector('tbody');
		  tbody.onclick = function(e) {
			  console.log(e.target);
			  var ev =e || window.event;
			  if (ev.target.nodeName == 'TD') {
				  if (ev.target.children.length == 0) {
					var input = document.createElement('input');
		 			input.type = 'text';
		 			input.value = ev.target.innerHTML;
		 			ev.target.innerHTML = '';
		 			ev.target.appendChild(input);
		 			input.focus();
					input.onblur = function() {
						ev.target.innerHTML = this.value;
				  }
			  }
		  }
		  if (ev.target.nodeName == 'BUTTON') {
			  if (ev.target.className == 'bb') {
				var tr = item.cloneNode(true);
				tr.id = '';
			this.insertBefore(tr,ev.target.parentNode.parentNode);
			  }
		  }
		  if (ev.target.nodeName == 'BUTTON') {
			  if (ev.target.className == 'dd') {
				this.removeChild(ev.target.parentNode.parentNode);
			  }
		  }
		  }
		  

	</script>

</html>